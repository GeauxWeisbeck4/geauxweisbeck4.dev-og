---
import { getCollection } from 'astro:content';

const allEntries = await getCollection('journal');
const recentEntries = allEntries
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 5);
---

<section class="my-8 px-20">
    <h2 class="text-2xl font-bold mb-4">Recent Journal Entries</h2>
    <ul class="space-y-4">
        {recentEntries.map((entry) => (
            <li class="border-b pb-2">
                <h3 class="text-lg font-semibold">
                    <a href={`/journal/${entry.slug}`} class="text-blue-600 hover:underline">
                        {entry.data.title}
                    </a>
                </h3>
                <p class="text-gray-600 text-sm">{entry.data.date.toLocaleDateString()}</p>
            </li>
        ))}
    </ul>
</section>
