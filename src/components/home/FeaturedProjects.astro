---
import { getCollection } from 'astro:content';

const allProjects = await getCollection('projects');
const featuredProjects = allProjects.filter(project => project.data.featured);
---

<section class="my-8 px-20">
    <h2 class="text-2xl font-bold mb-4">Featured Projects</h2>
    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
        {featuredProjects.map((project) => (
            <article class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                <h3 class="text-xl font-semibold mb-2">
                    <a href={`/projects/${project.slug}`} class="text-blue-600 hover:underline">
                        {project.data.title}
                    </a>
                </h3>
                <p class="text-sm mb-2">{project.data.description}</p>
                <div class="flex flex-wrap gap-2">
                    {project.data.tags.map(tag => (
                        <span class="bg-gray-200 text-gray-700 px-2 py-1">
                            {tag}
                        </span>
                    ))}
                </div>
            </article>
        ))}
    </div>
</section>
